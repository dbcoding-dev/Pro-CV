<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cv Oluştur ve Düzenle">
  <meta name="keywords" content="Cv Oluştur ve Düzenle">
  <meta name="author" content="elemis">
  <title>Cv Oluştur ve Düzenle</title>
  <link rel="shortcut icon" href="/assets/favicon.ico">
  <link rel="stylesheet" href="/assets/css/plugins.css">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="preload" href="/assets/css/fonts/space.css" as="style" onload="this.rel='stylesheet'">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css" rel="stylesheet">
</head>
<%- include('../components/head'); -%>
  <style>
    .checkbox {
      width: 100px;
    }
  </style>


  <body>
    <div class="content-wrapper bg-light">
      <%- include('../components/header'); -%>
        <section class="wrapper gradient-8 bg-lines">
          <div class="container pt-17 pt-md-19 pb-21 pb-lg-23 text-center">
            <div class="row">
              <div class="col-lg-10 col-sm-12 mx-auto" data-cues="zoomOut" data-group="page-title" data-interval="200"
                data-delay="100">
                <div class="d-flex justify-content-center mb-4" data-cues="zoomOut" data-group="page-title-buttons"
                  data-delay="100">
                  <%- include('./form'); -%>

                </div>
              </div>
            </div>
          </div>
        </section>
    </div>
    <style>
      #preview {
        position: absolute;
        left: 28px;
        border-radius: 50%;
      }

      @media (max-width: 768px) {
        #preview {
          position: absolute;
          bottom: 30px;
          left: 45%;
          transform: translateX(-50%);
        }
      }
    </style>

    <script>
      function checkFileSize(file) {
        const maxSize = 500 * 1024;
        return file.size <= maxSize;
      }

      function handleFileDrop(event) {
        event.preventDefault();
        event.stopPropagation();
        const files = event.dataTransfer.files;
        if (files.length > 0 && !checkFileSize(files[0])) {
          alert('Dosya boyutu 500 KB\'den büyük olamaz.');
        } else {
          previewImage(files[0]);
        }
      }

      function previewImage(file) {
        var preview = document.getElementById('preview');
        var reader = new FileReader();

        reader.onload = function () {
          preview.src = reader.result;
          preview.style.display = 'block';
          preview.style.width = '120px';
          preview.style.height = '120px';
          preview.style.position = 'absolute';
          preview.style.borderRadius = '50%';
          document.querySelector('.foto_label').style.display = 'none';
        }

        if (file) {
          reader.readAsDataURL(file);
        }
      }

      document.addEventListener('DOMContentLoaded', function () {
        const dropArea = document.getElementById('photo');

        dropArea.addEventListener('drop', handleFileDrop);

        dropArea.addEventListener('dragover', function (event) {
          event.preventDefault();
          event.stopPropagation();
        });
        dropArea.addEventListener('change', function (event) {
          const file = event.target.files[0];
          if (file) {
            if (!checkFileSize(file)) {
              alert('Dosya boyutu 500 KB\'den büyük olamaz.');
            } else {
              previewImage(file);
            }
          }
        });
      });

      document.getElementById('phoneNumberInput').addEventListener('input', function () {
        var phoneNumber = this.value.replace(/[^\d+]/g, '');

        if (phoneNumber.length > 13) {
          phoneNumber = phoneNumber.slice(0, 13);
        }
        this.value = phoneNumber;
      });
    </script>

    <%- include('../components/footer'); -%>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>
      <%- include('../components/script'); -%>